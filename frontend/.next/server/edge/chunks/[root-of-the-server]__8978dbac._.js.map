{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport type { NextRequest } from 'next/server';\n\nexport function middleware(request: NextRequest) {\n  // Backend sets cookie as 'auth-token' (from REST_AUTH settings)\n  const accessToken = request.cookies.get('auth-token')?.value;\n  const isAuthPage = request.nextUrl.pathname.startsWith('/auth');\n  const isProtectedRoute = request.nextUrl.pathname.startsWith('/dashboard');\n\n  // Redirect authenticated users away from auth pages\n  if (accessToken && isAuthPage) {\n    return NextResponse.redirect(new URL('/dashboard', request.url));\n  }\n\n  // Redirect unauthenticated users to login\n  if (!accessToken && isProtectedRoute) {\n    return NextResponse.redirect(new URL('/auth', request.url));\n  }\n\n  return NextResponse.next();\n}\n\nexport const config = {\n  matcher: ['/dashboard/:path*', '/auth/:path*'],\n};"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAGO,SAAS,WAAW,OAAoB;IAC7C,gEAAgE;IAChE,MAAM,cAAc,QAAQ,OAAO,CAAC,GAAG,CAAC,eAAe;IACvD,MAAM,aAAa,QAAQ,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC;IACvD,MAAM,mBAAmB,QAAQ,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC;IAE7D,oDAAoD;IACpD,IAAI,eAAe,YAAY;QAC7B,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,cAAc,QAAQ,GAAG;IAChE;IAEA,0CAA0C;IAC1C,IAAI,CAAC,eAAe,kBAAkB;QACpC,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,SAAS,QAAQ,GAAG;IAC3D;IAEA,OAAO,gMAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QAAC;QAAqB;KAAe;AAChD"}}]
}