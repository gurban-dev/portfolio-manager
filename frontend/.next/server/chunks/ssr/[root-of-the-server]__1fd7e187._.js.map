{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///app/src/lib/api.ts"],"sourcesContent":["import axios from 'axios'\n\nexport const api = axios.create({\n  baseURL: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000/api',\n\n  /* withCredentials: true ensures that session cookies\n     are sent to Django with every request. */\n  withCredentials: true,\n})"],"names":[],"mappings":";;;;AAAA;;;;;;AAEO,MAAM,MAAM,qHAAK,CAAC,MAAM,CAAC;IAC9B,SAAS,oEAAmC;IAE5C;4CAC0C,GAC1C,iBAAiB;AACnB","debugId":null}},
    {"offset": {"line": 44, "column": 0}, "map": {"version":3,"sources":["file:///app/src/hooks/useAuth.ts"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { api } from '@/lib/api'\n\nexport function useAuth() {\n  const [user, setUser] = useState<any>(null)\n\n  // Indicates auth check done.\n  const [checked, setChecked] = useState(false)\n\n  const fetchUser = async () => {\n    try {\n      // Sends an HTTP GET request to your backend at the endpoint /users/me/.\n\n      // This endpoint returns the currently authenticated user's data:\n      const res = await api.get('/users/me/')\n\n      setUser(res.data)\n    } catch {\n      setUser(null)\n    } finally {\n      setChecked(true)\n    }\n  }\n\n  useEffect(() => {\n    // Django cookie\n    const hasSession = document.cookie.includes('sessionid')\n\n    if (!hasSession) {\n      setUser(null)\n      setChecked(true)\n      return\n    }\n\n    fetchUser()\n  }, [])\n\n  const login = async (credentials: any) => {\n    await api.post('/auth/login/', credentials)\n\n    fetchUser()\n  }\n\n  const logout = async () => {\n    await api.post('/auth/logout/')\n\n    setUser(null)\n  }\n\n  return { user, checked, login, logout }\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;;;;;AAEO,SAAS;IACd,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAM;IAEtC,6BAA6B;IAC7B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IAEvC,MAAM,YAAY;QAChB,IAAI;YACF,wEAAwE;YAExE,iEAAiE;YACjE,MAAM,MAAM,MAAM,iHAAG,CAAC,GAAG,CAAC;YAE1B,QAAQ,IAAI,IAAI;QAClB,EAAE,OAAM;YACN,QAAQ;QACV,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,gHAAS,EAAC;QACR,gBAAgB;QAChB,MAAM,aAAa,SAAS,MAAM,CAAC,QAAQ,CAAC;QAE5C,IAAI,CAAC,YAAY;YACf,QAAQ;YACR,WAAW;YACX;QACF;QAEA;IACF,GAAG,EAAE;IAEL,MAAM,QAAQ,OAAO;QACnB,MAAM,iHAAG,CAAC,IAAI,CAAC,gBAAgB;QAE/B;IACF;IAEA,MAAM,SAAS;QACb,MAAM,iHAAG,CAAC,IAAI,CAAC;QAEf,QAAQ;IACV;IAEA,OAAO;QAAE;QAAM;QAAS;QAAO;IAAO;AACxC","debugId":null}},
    {"offset": {"line": 104, "column": 0}, "map": {"version":3,"sources":["file:///app/src/pages/auth/login.tsx"],"sourcesContent":["'use client'\nimport { useState } from 'react'\nimport { useAuth } from '@/hooks/useAuth'\n\nexport default function Login() {\n  const { login } = useAuth()\n  const [form, setForm] = useState({ username: '', password: '' })\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    await login(form)\n  }\n\n  return (\n    <div className=\"max-w-sm mx-auto mt-20\">\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <input\n          placeholder=\"Username\"\n          value={form.username}\n          onChange={e => setForm({ ...form, username: e.target.value })}\n          className=\"input\"\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          value={form.password}\n          onChange={e => setForm({ ...form, password: e.target.value })}\n          className=\"input\"\n        />\n        <button type=\"submit\" className=\"btn-primary w-full\">Login</button>\n      </form>\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AACA;AACA;;;;;AAFA;;;;AAIe,SAAS;IACtB,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,2HAAO;IACzB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;QAAE,UAAU;QAAI,UAAU;IAAG;IAE9D,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,MAAM,MAAM;IACd;IAEA,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YAAK,UAAU;YAAc,WAAU;;8BACtC,qKAAC;oBACC,aAAY;oBACZ,OAAO,KAAK,QAAQ;oBACpB,UAAU,CAAA,IAAK,QAAQ;4BAAE,GAAG,IAAI;4BAAE,UAAU,EAAE,MAAM,CAAC,KAAK;wBAAC;oBAC3D,WAAU;;;;;;8BAEZ,qKAAC;oBACC,MAAK;oBACL,aAAY;oBACZ,OAAO,KAAK,QAAQ;oBACpB,UAAU,CAAA,IAAK,QAAQ;4BAAE,GAAG,IAAI;4BAAE,UAAU,EAAE,MAAM,CAAC,KAAK;wBAAC;oBAC3D,WAAU;;;;;;8BAEZ,qKAAC;oBAAO,MAAK;oBAAS,WAAU;8BAAqB;;;;;;;;;;;;;;;;;AAI7D","debugId":null}}]
}