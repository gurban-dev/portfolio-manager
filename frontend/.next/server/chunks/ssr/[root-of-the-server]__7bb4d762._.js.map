{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///app/src/lib/api.ts"],"sourcesContent":["// frontend/src/lib/api.ts\nimport axios from 'axios';\n\nexport const api = axios.create({\n  baseURL: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000',\n});\n\n// Attach JWT to every request\napi.interceptors.request.use((config) => {\n  if (typeof window !== 'undefined') {\n    const token = localStorage.getItem('access_token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n  }\n  return config;\n});\n\nexport default api;"],"names":[],"mappings":"AAAA,0BAA0B;;;;;;;AAC1B;;AAEO,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IAC9B,SAAS,6DAAmC;AAC9C;AAEA,8BAA8B;AAC9B,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B;;IAMA,OAAO;AACT;uCAEe","debugId":null}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/AccountCard.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\nimport { BanknoteIcon } from 'lucide-react'\n\ninterface AccountCardProps {\n  account: {\n    id: number\n    name: string\n    institution: string\n    balance: string\n    currency: string\n  }\n  children?: React.ReactNode\n}\n\nexport default function AccountCard({ account }: AccountCardProps) {\n  const { name, institution, balance, currency } = account\n\n  return (\n    <div className=\"bg-white shadow-sm rounded-2xl p-5 border border-gray-100 hover:shadow-md transition-all\">\n      <div className=\"flex items-center justify-between mb-3\">\n        <div className=\"flex items-center gap-2\">\n          <BanknoteIcon className=\"w-5 h-5 text-green-600\" />\n          <h3 className=\"text-lg font-semibold text-gray-800\">{name}</h3>\n        </div>\n        <span className=\"text-sm text-gray-500\">{institution}</span>\n      </div>\n\n      <div className=\"text-2xl font-bold text-gray-900\">\n        {Number(balance).toLocaleString(undefined, {\n          minimumFractionDigits: 2,\n          maximumFractionDigits: 2,\n        })}{' '}\n        <span className=\"text-base text-gray-600\">{currency}</span>\n      </div>\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAgBe,SAAS,YAAY,EAAE,OAAO,EAAoB;IAC/D,MAAM,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG;IAEjD,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,8NAAY;gCAAC,WAAU;;;;;;0CACxB,8OAAC;gCAAG,WAAU;0CAAuC;;;;;;;;;;;;kCAEvD,8OAAC;wBAAK,WAAU;kCAAyB;;;;;;;;;;;;0BAG3C,8OAAC;gBAAI,WAAU;;oBACZ,OAAO,SAAS,cAAc,CAAC,WAAW;wBACzC,uBAAuB;wBACvB,uBAAuB;oBACzB;oBAAI;kCACJ,8OAAC;wBAAK,WAAU;kCAA2B;;;;;;;;;;;;;;;;;;AAInD","debugId":null}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/TransactionTable.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\nimport { ArrowUpRight, ArrowDownRight } from 'lucide-react'\n\ninterface Transaction {\n  id: number\n  amount: string\n  description: string\n  date: string\n  category?: string\n  transaction_type: string\n}\n\ninterface Props {\n  transactions: Transaction[]\n}\n\nexport default function TransactionTable({ transactions }: Props) {\n  if (!transactions?.length) {\n    return (\n      <div className=\"text-gray-500 text-sm\">\n        No recent transactions available.\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"overflow-x-auto bg-white rounded-2xl shadow-sm border border-gray-100\">\n      <table className=\"min-w-full text-sm\">\n        <thead className=\"bg-gray-50 text-gray-700\">\n          <tr>\n            <th className=\"px-4 py-3 text-left font-medium\">Date</th>\n            <th className=\"px-4 py-3 text-left font-medium\">Description</th>\n            <th className=\"px-4 py-3 text-left font-medium\">Category</th>\n            <th className=\"px-4 py-3 text-right font-medium\">Amount</th>\n          </tr>\n        </thead>\n        <tbody>\n          {transactions.map((tx) => (\n            <tr\n              key={tx.id}\n              className=\"border-t border-gray-100 hover:bg-gray-50 transition-colors\"\n            >\n              <td className=\"px-4 py-3\">{tx.date}</td>\n              <td className=\"px-4 py-3\">{tx.description}</td>\n              <td className=\"px-4 py-3 text-gray-600\">\n                {tx.category || '—'}\n              </td>\n              <td\n                className={`px-4 py-3 text-right font-medium ${\n                  tx.transaction_type === 'credit'\n                    ? 'text-green-600'\n                    : 'text-red-500'\n                }`}\n              >\n                <div className=\"flex justify-end items-center gap-1\">\n                  {tx.transaction_type === 'credit' ? (\n                    <ArrowUpRight className=\"w-4 h-4\" />\n                  ) : (\n                    <ArrowDownRight className=\"w-4 h-4\" />\n                  )}\n                  {tx.amount}\n                </div>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAGA;AAAA;AAHA;;;AAkBe,SAAS,iBAAiB,EAAE,YAAY,EAAS;IAC9D,IAAI,CAAC,cAAc,QAAQ;QACzB,qBACE,8OAAC;YAAI,WAAU;sBAAwB;;;;;;IAI3C;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAM,WAAU;;8BACf,8OAAC;oBAAM,WAAU;8BACf,cAAA,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAkC;;;;;;0CAChD,8OAAC;gCAAG,WAAU;0CAAkC;;;;;;0CAChD,8OAAC;gCAAG,WAAU;0CAAkC;;;;;;0CAChD,8OAAC;gCAAG,WAAU;0CAAmC;;;;;;;;;;;;;;;;;8BAGrD,8OAAC;8BACE,aAAa,GAAG,CAAC,CAAC,mBACjB,8OAAC;4BAEC,WAAU;;8CAEV,8OAAC;oCAAG,WAAU;8CAAa,GAAG,IAAI;;;;;;8CAClC,8OAAC;oCAAG,WAAU;8CAAa,GAAG,WAAW;;;;;;8CACzC,8OAAC;oCAAG,WAAU;8CACX,GAAG,QAAQ,IAAI;;;;;;8CAElB,8OAAC;oCACC,WAAW,CAAC,iCAAiC,EAC3C,GAAG,gBAAgB,KAAK,WACpB,mBACA,gBACJ;8CAEF,cAAA,8OAAC;wCAAI,WAAU;;4CACZ,GAAG,gBAAgB,KAAK,yBACvB,8OAAC,0OAAY;gDAAC,WAAU;;;;;qEAExB,8OAAC,gPAAc;gDAAC,WAAU;;;;;;4CAE3B,GAAG,MAAM;;;;;;;;;;;;;2BArBT,GAAG,EAAE;;;;;;;;;;;;;;;;;;;;;AA8BxB","debugId":null}},
    {"offset": {"line": 351, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/ESGScoreBadge.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\n\ninterface ESGScoreBadgeProps {\n  label: string\n  value: string\n  variant?: 'success' | 'warning' | 'danger'\n}\n\nconst variantStyles = {\n  success: 'bg-green-100 text-green-700 border-green-300',\n  warning: 'bg-yellow-100 text-yellow-700 border-yellow-300',\n  danger: 'bg-red-100 text-red-700 border-red-300',\n}\n\nexport default function ESGScoreBadge({\n  label,\n  value,\n  variant = 'success',\n}: ESGScoreBadgeProps) {\n  return (\n    <div\n      className={`flex flex-col items-start border rounded-xl px-4 py-3 w-48 shadow-sm ${variantStyles[variant]}`}\n    >\n      <span className=\"text-sm font-medium\">{label}</span>\n      <span className=\"text-lg font-bold\">{value}</span>\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAAA;;AAUA,MAAM,gBAAgB;IACpB,SAAS;IACT,SAAS;IACT,QAAQ;AACV;AAEe,SAAS,cAAc,EACpC,KAAK,EACL,KAAK,EACL,UAAU,SAAS,EACA;IACnB,qBACE,8OAAC;QACC,WAAW,CAAC,qEAAqE,EAAE,aAAa,CAAC,QAAQ,EAAE;;0BAE3G,8OAAC;gBAAK,WAAU;0BAAuB;;;;;;0BACvC,8OAAC;gBAAK,WAAU;0BAAqB;;;;;;;;;;;;AAG3C","debugId":null}},
    {"offset": {"line": 394, "column": 0}, "map": {"version":3,"sources":["file:///app/src/hooks/useAuth.ts"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { api } from '@/lib/api'\n\nexport function useAuth() {\n  const [user, setUser] = useState<any>(null)\n\n  // Indicates auth check done.\n  const [checked, setChecked] = useState(false)\n\n  const fetchUser = async () => {\n    try {\n      // Sends an HTTP GET request to your backend at the endpoint /api/v1/users/me/.\n\n      // This endpoint returns the currently authenticated user's data:\n      const res = await api.get('/api/v1/users/me/')\n\n      setUser(res.data)\n    } catch {\n      setUser(null)\n    } finally {\n      setChecked(true)\n    }\n  }\n\n  useEffect(() => {\n    // Django cookie\n    const hasSession = document.cookie.includes('sessionid')\n\n    if (!hasSession) {\n      setUser(null)\n      setChecked(true)\n      return\n    }\n\n    fetchUser()\n  }, [])\n\n  const login = async (credentials: any) => {\n    await api.post('/api/auth/login/', credentials)\n\n    fetchUser()\n  }\n\n  const logout = async () => {\n    await api.post('/api/auth/logout/')\n\n    setUser(null)\n  }\n\n  return { user, checked, login, logout }\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS;IACd,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAM;IAEtC,6BAA6B;IAC7B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,YAAY;QAChB,IAAI;YACF,+EAA+E;YAE/E,iEAAiE;YACjE,MAAM,MAAM,MAAM,wHAAG,CAAC,GAAG,CAAC;YAE1B,QAAQ,IAAI,IAAI;QAClB,EAAE,OAAM;YACN,QAAQ;QACV,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,kNAAS,EAAC;QACR,gBAAgB;QAChB,MAAM,aAAa,SAAS,MAAM,CAAC,QAAQ,CAAC;QAE5C,IAAI,CAAC,YAAY;YACf,QAAQ;YACR,WAAW;YACX;QACF;QAEA;IACF,GAAG,EAAE;IAEL,MAAM,QAAQ,OAAO;QACnB,MAAM,wHAAG,CAAC,IAAI,CAAC,oBAAoB;QAEnC;IACF;IAEA,MAAM,SAAS;QACb,MAAM,wHAAG,CAAC,IAAI,CAAC;QAEf,QAAQ;IACV;IAEA,OAAO;QAAE;QAAM;QAAS;QAAO;IAAO;AACxC","debugId":null}},
    {"offset": {"line": 447, "column": 0}, "map": {"version":3,"sources":["file:///app/src/hooks/useWebSocket.ts"],"sourcesContent":["import { useEffect, useRef, useState } from 'react'\n\ninterface UseWebSocketOptions {\n  onMessage?: (msg: any) => void\n  onError?: (error: Event) => void\n  onOpen?: () => void\n  onClose?: () => void\n  reconnect?: boolean\n  reconnectInterval?: number\n}\n\nexport function useWebSocket(url: string, options: UseWebSocketOptions = {}) {\n  const {\n    onMessage,\n    onError,\n    onOpen,\n    onClose,\n    reconnect = true,\n    reconnectInterval = 3000\n  } = options\n\n  const ws = useRef<WebSocket | null>(null)\n  const [isConnected, setIsConnected] = useState(false)\n  const reconnectTimeoutRef = useRef<NodeJS.Timeout | null>(null)\n\n  const connect = () => {\n    try {\n      ws.current = new WebSocket(url)\n      \n      ws.current.onopen = () => {\n        setIsConnected(true)\n        if (onOpen) onOpen()\n      }\n\n      ws.current.onmessage = (e) => {\n        try {\n          const data = JSON.parse(e.data)\n          if (onMessage) onMessage(data)\n        } catch (err) {\n          console.error('Failed to parse WebSocket message:', err)\n        }\n      }\n\n      ws.current.onerror = (error) => {\n        console.error('WebSocket error:', error)\n        if (onError) onError(error)\n      }\n\n      ws.current.onclose = () => {\n        setIsConnected(false)\n        if (onClose) onClose()\n        \n        // Attempt to reconnect\n        if (reconnect && ws.current) {\n          reconnectTimeoutRef.current = setTimeout(() => {\n            connect()\n          }, reconnectInterval)\n        }\n      }\n    } catch (error) {\n      console.error('WebSocket connection error:', error)\n    }\n  }\n\n  useEffect(() => {\n    connect()\n\n    return () => {\n      if (reconnectTimeoutRef.current) {\n        clearTimeout(reconnectTimeoutRef.current)\n      }\n      if (ws.current) {\n        ws.current.close()\n      }\n    }\n  }, [url])\n\n  const sendMessage = (message: any) => {\n    if (ws.current && ws.current.readyState === WebSocket.OPEN) {\n      ws.current.send(JSON.stringify(message))\n    } else {\n      console.warn('WebSocket is not connected')\n    }\n  }\n\n  return { ws: ws.current, isConnected, sendMessage }\n}"],"names":[],"mappings":";;;;AAAA;;AAWO,SAAS,aAAa,GAAW,EAAE,UAA+B,CAAC,CAAC;IACzE,MAAM,EACJ,SAAS,EACT,OAAO,EACP,MAAM,EACN,OAAO,EACP,YAAY,IAAI,EAChB,oBAAoB,IAAI,EACzB,GAAG;IAEJ,MAAM,KAAK,IAAA,+MAAM,EAAmB;IACpC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,sBAAsB,IAAA,+MAAM,EAAwB;IAE1D,MAAM,UAAU;QACd,IAAI;YACF,GAAG,OAAO,GAAG,IAAI,UAAU;YAE3B,GAAG,OAAO,CAAC,MAAM,GAAG;gBAClB,eAAe;gBACf,IAAI,QAAQ;YACd;YAEA,GAAG,OAAO,CAAC,SAAS,GAAG,CAAC;gBACtB,IAAI;oBACF,MAAM,OAAO,KAAK,KAAK,CAAC,EAAE,IAAI;oBAC9B,IAAI,WAAW,UAAU;gBAC3B,EAAE,OAAO,KAAK;oBACZ,QAAQ,KAAK,CAAC,sCAAsC;gBACtD;YACF;YAEA,GAAG,OAAO,CAAC,OAAO,GAAG,CAAC;gBACpB,QAAQ,KAAK,CAAC,oBAAoB;gBAClC,IAAI,SAAS,QAAQ;YACvB;YAEA,GAAG,OAAO,CAAC,OAAO,GAAG;gBACnB,eAAe;gBACf,IAAI,SAAS;gBAEb,uBAAuB;gBACvB,IAAI,aAAa,GAAG,OAAO,EAAE;oBAC3B,oBAAoB,OAAO,GAAG,WAAW;wBACvC;oBACF,GAAG;gBACL;YACF;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;QAC/C;IACF;IAEA,IAAA,kNAAS,EAAC;QACR;QAEA,OAAO;YACL,IAAI,oBAAoB,OAAO,EAAE;gBAC/B,aAAa,oBAAoB,OAAO;YAC1C;YACA,IAAI,GAAG,OAAO,EAAE;gBACd,GAAG,OAAO,CAAC,KAAK;YAClB;QACF;IACF,GAAG;QAAC;KAAI;IAER,MAAM,cAAc,CAAC;QACnB,IAAI,GAAG,OAAO,IAAI,GAAG,OAAO,CAAC,UAAU,KAAK,UAAU,IAAI,EAAE;YAC1D,GAAG,OAAO,CAAC,IAAI,CAAC,KAAK,SAAS,CAAC;QACjC,OAAO;YACL,QAAQ,IAAI,CAAC;QACf;IACF;IAEA,OAAO;QAAE,IAAI,GAAG,OAAO;QAAE;QAAa;IAAY;AACpD","debugId":null}},
    {"offset": {"line": 521, "column": 0}, "map": {"version":3,"sources":["file:///app/src/lib/constants.ts"],"sourcesContent":["export const APP_NAME = 'FinSight'\nexport const WEBSOCKET_URL = process.env.NEXT_PUBLIC_WS_URL || 'ws://localhost:8000/ws/notifications/'"],"names":[],"mappings":";;;;;;AAAO,MAAM,WAAW;AACjB,MAAM,gBAAgB,6EAAkC","debugId":null}},
    {"offset": {"line": 533, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/NotificationBell.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { Bell } from 'lucide-react'\nimport { useAuth } from '@/hooks/useAuth'\nimport { api } from '@/lib/api'\nimport { useWebSocket } from '@/hooks/useWebSocket'\nimport { WEBSOCKET_URL } from '@/lib/constants'\n\nexport default function NotificationBell() {\n  const { user, checked } = useAuth() // `checked` indicates auth check is done\n  const [unreadCount, setUnreadCount] = useState(0)\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  const fetchNotifications = async () => {\n    if (!checked || !user) return\n    \n    setLoading(true)\n\n    try {\n      const res = await api.get('/api/v1/notifications/?unread=true')\n      setUnreadCount(res.data.length || 0)\n      setError(null)\n    } catch (err: any) {\n      console.error('Failed to fetch notifications:', err)\n      setError('Unable to load notifications')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    // Only fetch notifications if user is logged in and auth check is done\n    if (!checked || !user) return\n\n    fetchNotifications()\n\n    // Set up polling as fallback\n    const interval = setInterval(fetchNotifications, 60000)\n    return () => clearInterval(interval)\n  }, [user, checked])\n\n  // WebSocket for real-time notifications\n  const wsUrl = user ? `${WEBSOCKET_URL}${user.id}/` : null\n  useWebSocket(wsUrl || '', {\n    onMessage: (data) => {\n      // When a new notification arrives via WebSocket, refresh the count\n      if (data.message && user) {\n        fetchNotifications()\n      }\n    },\n    reconnect: true,\n  })\n\n  // Render nothing if user not logged in\n  if (!checked || !user) return null\n\n  return (\n    <div className=\"relative\">\n      <Bell className=\"w-6 h-6 text-gray-700 hover:text-gray-900 cursor-pointer\" />\n\n      {loading && (\n        <span className=\"absolute -top-1 -right-1 w-3 h-3 bg-gray-400 rounded-full animate-pulse\" />\n      )}\n\n      {unreadCount > 0 && !loading && (\n        <span className=\"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white rounded-full flex items-center justify-center text-xs font-bold\">\n          {unreadCount > 9 ? '9+' : unreadCount}\n        </span>\n      )}\n\n      {error && (\n        <p className=\"text-xs text-red-500 absolute mt-6\">{error}</p>\n      )}\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,kIAAO,IAAG,yCAAyC;;IAC7E,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,MAAM,qBAAqB;QACzB,IAAI,CAAC,WAAW,CAAC,MAAM;QAEvB,WAAW;QAEX,IAAI;YACF,MAAM,MAAM,MAAM,wHAAG,CAAC,GAAG,CAAC;YAC1B,eAAe,IAAI,IAAI,CAAC,MAAM,IAAI;YAClC,SAAS;QACX,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,kCAAkC;YAChD,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,kNAAS,EAAC;QACR,uEAAuE;QACvE,IAAI,CAAC,WAAW,CAAC,MAAM;QAEvB;QAEA,6BAA6B;QAC7B,MAAM,WAAW,YAAY,oBAAoB;QACjD,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;QAAM;KAAQ;IAElB,wCAAwC;IACxC,MAAM,QAAQ,OAAO,GAAG,wIAAa,GAAG,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG;IACrD,IAAA,4IAAY,EAAC,SAAS,IAAI;QACxB,WAAW,CAAC;YACV,mEAAmE;YACnE,IAAI,KAAK,OAAO,IAAI,MAAM;gBACxB;YACF;QACF;QACA,WAAW;IACb;IAEA,uCAAuC;IACvC,IAAI,CAAC,WAAW,CAAC,MAAM,OAAO;IAE9B,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,0MAAI;gBAAC,WAAU;;;;;;YAEf,yBACC,8OAAC;gBAAK,WAAU;;;;;;YAGjB,cAAc,KAAK,CAAC,yBACnB,8OAAC;gBAAK,WAAU;0BACb,cAAc,IAAI,OAAO;;;;;;YAI7B,uBACC,8OAAC;gBAAE,WAAU;0BAAsC;;;;;;;;;;;;AAI3D","debugId":null}},
    {"offset": {"line": 640, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/charts/PerformanceChart.tsx"],"sourcesContent":["'use client'\n\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts'\nimport { format } from 'date-fns'\nimport { PerformanceDataPoint } from '@/lib/types'\n\ninterface PerformanceChartProps {\n  data: PerformanceDataPoint[]\n  currency: string\n}\n\nexport default function PerformanceChart({ data, currency }: PerformanceChartProps) {\n  const formattedData = data.map(point => ({\n    ...point,\n    date: format(new Date(point.date), 'MMM dd'),\n    value: Number(point.value.toFixed(2))\n  }))\n\n  return (\n    <div className=\"w-full h-80\">\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <LineChart data={formattedData} margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <XAxis \n            dataKey=\"date\" \n            tick={{ fontSize: 12 }}\n          />\n          <YAxis \n            tick={{ fontSize: 12 }}\n            tickFormatter={(value) => `${currency} ${value.toLocaleString()}`}\n          />\n          <Tooltip \n            formatter={(value: number) => [`${currency} ${value.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`, 'Portfolio Value']}\n            labelFormatter={(label) => `Date: ${label}`}\n          />\n          <Legend />\n          <Line \n            type=\"monotone\" \n            dataKey=\"value\" \n            stroke=\"#10b981\" \n            strokeWidth={2}\n            name=\"Portfolio Value\"\n            dot={{ r: 4 }}\n            activeDot={{ r: 6 }}\n          />\n        </LineChart>\n      </ResponsiveContainer>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAHA;;;;AAWe,SAAS,iBAAiB,EAAE,IAAI,EAAE,QAAQ,EAAyB;IAChF,MAAM,gBAAgB,KAAK,GAAG,CAAC,CAAA,QAAS,CAAC;YACvC,GAAG,KAAK;YACR,MAAM,IAAA,oMAAM,EAAC,IAAI,KAAK,MAAM,IAAI,GAAG;YACnC,OAAO,OAAO,MAAM,KAAK,CAAC,OAAO,CAAC;QACpC,CAAC;IAED,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,0LAAmB;YAAC,OAAM;YAAO,QAAO;sBACvC,cAAA,8OAAC,kKAAS;gBAAC,MAAM;gBAAe,QAAQ;oBAAE,KAAK;oBAAG,OAAO;oBAAI,MAAM;oBAAI,QAAQ;gBAAE;;kCAC/E,8OAAC,8KAAa;wBAAC,iBAAgB;;;;;;kCAC/B,8OAAC,8JAAK;wBACJ,SAAQ;wBACR,MAAM;4BAAE,UAAU;wBAAG;;;;;;kCAEvB,8OAAC,8JAAK;wBACJ,MAAM;4BAAE,UAAU;wBAAG;wBACrB,eAAe,CAAC,QAAU,GAAG,SAAS,CAAC,EAAE,MAAM,cAAc,IAAI;;;;;;kCAEnE,8OAAC,kKAAO;wBACN,WAAW,CAAC,QAAkB;gCAAC,GAAG,SAAS,CAAC,EAAE,MAAM,cAAc,CAAC,WAAW;oCAAE,uBAAuB;oCAAG,uBAAuB;gCAAE,IAAI;gCAAE;6BAAkB;wBAC3J,gBAAgB,CAAC,QAAU,CAAC,MAAM,EAAE,OAAO;;;;;;kCAE7C,8OAAC,gKAAM;;;;;kCACP,8OAAC,4JAAI;wBACH,MAAK;wBACL,SAAQ;wBACR,QAAO;wBACP,aAAa;wBACb,MAAK;wBACL,KAAK;4BAAE,GAAG;wBAAE;wBACZ,WAAW;4BAAE,GAAG;wBAAE;;;;;;;;;;;;;;;;;;;;;;AAM9B","debugId":null}},
    {"offset": {"line": 762, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/charts/ESGChart.tsx"],"sourcesContent":["'use client'\n\nimport { AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, ComposedChart, Bar } from 'recharts'\nimport { format } from 'date-fns'\nimport { ESGDataPoint } from '@/lib/types'\n\ninterface ESGChartProps {\n  data: ESGDataPoint[]\n}\n\nexport default function ESGChart({ data }: ESGChartProps) {\n  const formattedData = data.map(point => ({\n    ...point,\n    date: format(new Date(point.date), 'MMM dd'),\n    co2_kg: Number(point.co2_kg.toFixed(2)),\n    rating: Number(point.rating.toFixed(2))\n  }))\n\n  return (\n    <div className=\"w-full h-80\">\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <ComposedChart data={formattedData} margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <XAxis \n            dataKey=\"date\" \n            tick={{ fontSize: 12 }}\n          />\n          <YAxis \n            yAxisId=\"left\"\n            tick={{ fontSize: 12 }}\n            label={{ value: 'CO₂ (kg)', angle: -90, position: 'insideLeft' }}\n          />\n          <YAxis \n            yAxisId=\"right\"\n            orientation=\"right\"\n            tick={{ fontSize: 12 }}\n            domain={[0, 10]}\n            label={{ value: 'ESG Rating', angle: 90, position: 'insideRight' }}\n          />\n          <Tooltip \n            formatter={(value: number, name: string) => {\n              if (name === 'CO₂ Impact') {\n                return [`${value.toFixed(2)} kg`, name]\n              }\n              return [`${value.toFixed(2)} / 10`, name]\n            }}\n            labelFormatter={(label) => `Date: ${label}`}\n          />\n          <Legend />\n          <Area \n            yAxisId=\"left\"\n            type=\"monotone\" \n            dataKey=\"co2_kg\" \n            fill=\"#f59e0b\" \n            fillOpacity={0.6}\n            stroke=\"#f59e0b\"\n            strokeWidth={2}\n            name=\"CO₂ Impact\"\n          />\n          <Bar \n            yAxisId=\"right\"\n            dataKey=\"rating\" \n            fill=\"#10b981\" \n            name=\"ESG Rating\"\n          />\n        </ComposedChart>\n      </ResponsiveContainer>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAHA;;;;AAUe,SAAS,SAAS,EAAE,IAAI,EAAiB;IACtD,MAAM,gBAAgB,KAAK,GAAG,CAAC,CAAA,QAAS,CAAC;YACvC,GAAG,KAAK;YACR,MAAM,IAAA,oMAAM,EAAC,IAAI,KAAK,MAAM,IAAI,GAAG;YACnC,QAAQ,OAAO,MAAM,MAAM,CAAC,OAAO,CAAC;YACpC,QAAQ,OAAO,MAAM,MAAM,CAAC,OAAO,CAAC;QACtC,CAAC;IAED,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,0LAAmB;YAAC,OAAM;YAAO,QAAO;sBACvC,cAAA,8OAAC,0KAAa;gBAAC,MAAM;gBAAe,QAAQ;oBAAE,KAAK;oBAAG,OAAO;oBAAI,MAAM;oBAAI,QAAQ;gBAAE;;kCACnF,8OAAC,8KAAa;wBAAC,iBAAgB;;;;;;kCAC/B,8OAAC,8JAAK;wBACJ,SAAQ;wBACR,MAAM;4BAAE,UAAU;wBAAG;;;;;;kCAEvB,8OAAC,8JAAK;wBACJ,SAAQ;wBACR,MAAM;4BAAE,UAAU;wBAAG;wBACrB,OAAO;4BAAE,OAAO;4BAAY,OAAO,CAAC;4BAAI,UAAU;wBAAa;;;;;;kCAEjE,8OAAC,8JAAK;wBACJ,SAAQ;wBACR,aAAY;wBACZ,MAAM;4BAAE,UAAU;wBAAG;wBACrB,QAAQ;4BAAC;4BAAG;yBAAG;wBACf,OAAO;4BAAE,OAAO;4BAAc,OAAO;4BAAI,UAAU;wBAAc;;;;;;kCAEnE,8OAAC,kKAAO;wBACN,WAAW,CAAC,OAAe;4BACzB,IAAI,SAAS,cAAc;gCACzB,OAAO;oCAAC,GAAG,MAAM,OAAO,CAAC,GAAG,GAAG,CAAC;oCAAE;iCAAK;4BACzC;4BACA,OAAO;gCAAC,GAAG,MAAM,OAAO,CAAC,GAAG,KAAK,CAAC;gCAAE;6BAAK;wBAC3C;wBACA,gBAAgB,CAAC,QAAU,CAAC,MAAM,EAAE,OAAO;;;;;;kCAE7C,8OAAC,gKAAM;;;;;kCACP,8OAAC,4JAAI;wBACH,SAAQ;wBACR,MAAK;wBACL,SAAQ;wBACR,MAAK;wBACL,aAAa;wBACb,QAAO;wBACP,aAAa;wBACb,MAAK;;;;;;kCAEP,8OAAC,0JAAG;wBACF,SAAQ;wBACR,SAAQ;wBACR,MAAK;wBACL,MAAK;;;;;;;;;;;;;;;;;;;;;;AAMjB","debugId":null}},
    {"offset": {"line": 923, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/dashboard/RiskRewardCard.tsx"],"sourcesContent":["'use client'\n\nimport { TrendingUp, TrendingDown, AlertTriangle } from 'lucide-react'\nimport { RiskMetrics } from '@/lib/types'\n\ninterface RiskRewardCardProps {\n  metrics: RiskMetrics | null\n  loading?: boolean\n}\n\nexport default function RiskRewardCard({ metrics, loading }: RiskRewardCardProps) {\n  if (loading) {\n    return (\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <div className=\"animate-pulse\">\n          <div className=\"h-4 bg-gray-200 rounded w-1/4 mb-4\"></div>\n          <div className=\"h-8 bg-gray-200 rounded w-1/2\"></div>\n        </div>\n      </div>\n    )\n  }\n\n  if (!metrics) {\n    return (\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <p className=\"text-gray-500\">No risk metrics available</p>\n      </div>\n    )\n  }\n\n  const riskColor = metrics.risk_score > 7 ? 'text-red-600' : metrics.risk_score > 4 ? 'text-yellow-600' : 'text-green-600'\n  const returnColor = metrics.expected_return > 0 ? 'text-green-600' : 'text-red-600'\n\n  return (\n    <div className=\"bg-white rounded-lg shadow p-6 space-y-4\">\n      <h3 className=\"text-lg font-semibold text-gray-800\">Risk & Reward Analysis</h3>\n      \n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <div className=\"flex items-center gap-2 mb-2\">\n            <AlertTriangle className=\"w-4 h-4 text-gray-500\" />\n            <span className=\"text-sm text-gray-600\">Risk Score</span>\n          </div>\n          <p className={`text-2xl font-bold ${riskColor}`}>\n            {metrics.risk_score.toFixed(2)} / 10\n          </p>\n        </div>\n\n        <div>\n          <div className=\"flex items-center gap-2 mb-2\">\n            {metrics.expected_return > 0 ? (\n              <TrendingUp className=\"w-4 h-4 text-green-600\" />\n            ) : (\n              <TrendingDown className=\"w-4 h-4 text-red-600\" />\n            )}\n            <span className=\"text-sm text-gray-600\">Expected Return</span>\n          </div>\n          <p className={`text-2xl font-bold ${returnColor}`}>\n            {metrics.expected_return > 0 ? '+' : ''}{metrics.expected_return.toFixed(2)}%\n          </p>\n        </div>\n\n        <div>\n          <div className=\"flex items-center gap-2 mb-2\">\n            <TrendingUp className=\"w-4 h-4 text-gray-500\" />\n            <span className=\"text-sm text-gray-600\">Sharpe Ratio</span>\n          </div>\n          <p className=\"text-2xl font-bold text-gray-800\">\n            {metrics.sharpe_ratio.toFixed(2)}\n          </p>\n        </div>\n\n        <div>\n          <div className=\"flex items-center gap-2 mb-2\">\n            <AlertTriangle className=\"w-4 h-4 text-gray-500\" />\n            <span className=\"text-sm text-gray-600\">Volatility</span>\n          </div>\n          <p className=\"text-2xl font-bold text-gray-800\">\n            {metrics.volatility.toFixed(2)}%\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAFA;;;AAUe,SAAS,eAAe,EAAE,OAAO,EAAE,OAAO,EAAuB;IAC9E,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;IAIvB;IAEA,IAAI,CAAC,SAAS;QACZ,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAE,WAAU;0BAAgB;;;;;;;;;;;IAGnC;IAEA,MAAM,YAAY,QAAQ,UAAU,GAAG,IAAI,iBAAiB,QAAQ,UAAU,GAAG,IAAI,oBAAoB;IACzG,MAAM,cAAc,QAAQ,eAAe,GAAG,IAAI,mBAAmB;IAErE,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAsC;;;;;;0BAEpD,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,yOAAa;wCAAC,WAAU;;;;;;kDACzB,8OAAC;wCAAK,WAAU;kDAAwB;;;;;;;;;;;;0CAE1C,8OAAC;gCAAE,WAAW,CAAC,mBAAmB,EAAE,WAAW;;oCAC5C,QAAQ,UAAU,CAAC,OAAO,CAAC;oCAAG;;;;;;;;;;;;;kCAInC,8OAAC;;0CACC,8OAAC;gCAAI,WAAU;;oCACZ,QAAQ,eAAe,GAAG,kBACzB,8OAAC,gOAAU;wCAAC,WAAU;;;;;6DAEtB,8OAAC,sOAAY;wCAAC,WAAU;;;;;;kDAE1B,8OAAC;wCAAK,WAAU;kDAAwB;;;;;;;;;;;;0CAE1C,8OAAC;gCAAE,WAAW,CAAC,mBAAmB,EAAE,aAAa;;oCAC9C,QAAQ,eAAe,GAAG,IAAI,MAAM;oCAAI,QAAQ,eAAe,CAAC,OAAO,CAAC;oCAAG;;;;;;;;;;;;;kCAIhF,8OAAC;;0CACC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,gOAAU;wCAAC,WAAU;;;;;;kDACtB,8OAAC;wCAAK,WAAU;kDAAwB;;;;;;;;;;;;0CAE1C,8OAAC;gCAAE,WAAU;0CACV,QAAQ,YAAY,CAAC,OAAO,CAAC;;;;;;;;;;;;kCAIlC,8OAAC;;0CACC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,yOAAa;wCAAC,WAAU;;;;;;kDACzB,8OAAC;wCAAK,WAAU;kDAAwB;;;;;;;;;;;;0CAE1C,8OAAC;gCAAE,WAAU;;oCACV,QAAQ,UAAU,CAAC,OAAO,CAAC;oCAAG;;;;;;;;;;;;;;;;;;;;;;;;;AAM3C","debugId":null}},
    {"offset": {"line": 1193, "column": 0}, "map": {"version":3,"sources":["file:///app/src/hooks/useAnalytics.ts"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { api } from '@/lib/api'\nimport { PerformanceResponse, ESGResponse } from '@/lib/types'\n\nexport function usePerformanceAnalytics(startDate?: string, endDate?: string, interval: string = 'daily') {\n  const [data, setData] = useState<PerformanceResponse | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        setLoading(true)\n        const params = new URLSearchParams()\n        if (startDate) params.append('from', startDate)\n        if (endDate) params.append('to', endDate)\n        params.append('interval', interval)\n\n        const response = await api.get(`/api/v1/analytics/performance/?${params.toString()}`)\n        setData(response.data)\n        setError(null)\n      } catch (err: any) {\n        setError(err.message || 'Failed to fetch performance data')\n        console.error('Performance analytics error:', err)\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchData()\n  }, [startDate, endDate, interval])\n\n  return { data, loading, error }\n}\n\nexport function useESGAnalytics(startDate?: string, endDate?: string, interval: string = 'daily') {\n  const [data, setData] = useState<ESGResponse | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        setLoading(true)\n        const params = new URLSearchParams()\n        if (startDate) params.append('from', startDate)\n        if (endDate) params.append('to', endDate)\n        params.append('interval', interval)\n\n        const response = await api.get(`/api/v1/analytics/esg/?${params.toString()}`)\n        setData(response.data)\n        setError(null)\n      } catch (err: any) {\n        setError(err.message || 'Failed to fetch ESG data')\n        console.error('ESG analytics error:', err)\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchData()\n  }, [startDate, endDate, interval])\n\n  return { data, loading, error }\n}\n\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAGO,SAAS,wBAAwB,SAAkB,EAAE,OAAgB,EAAE,WAAmB,OAAO;IACtG,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAA6B;IAC7D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,IAAA,kNAAS,EAAC;QACR,eAAe;YACb,IAAI;gBACF,WAAW;gBACX,MAAM,SAAS,IAAI;gBACnB,IAAI,WAAW,OAAO,MAAM,CAAC,QAAQ;gBACrC,IAAI,SAAS,OAAO,MAAM,CAAC,MAAM;gBACjC,OAAO,MAAM,CAAC,YAAY;gBAE1B,MAAM,WAAW,MAAM,wHAAG,CAAC,GAAG,CAAC,CAAC,+BAA+B,EAAE,OAAO,QAAQ,IAAI;gBACpF,QAAQ,SAAS,IAAI;gBACrB,SAAS;YACX,EAAE,OAAO,KAAU;gBACjB,SAAS,IAAI,OAAO,IAAI;gBACxB,QAAQ,KAAK,CAAC,gCAAgC;YAChD,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG;QAAC;QAAW;QAAS;KAAS;IAEjC,OAAO;QAAE;QAAM;QAAS;IAAM;AAChC;AAEO,SAAS,gBAAgB,SAAkB,EAAE,OAAgB,EAAE,WAAmB,OAAO;IAC9F,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAqB;IACrD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,IAAA,kNAAS,EAAC;QACR,eAAe;YACb,IAAI;gBACF,WAAW;gBACX,MAAM,SAAS,IAAI;gBACnB,IAAI,WAAW,OAAO,MAAM,CAAC,QAAQ;gBACrC,IAAI,SAAS,OAAO,MAAM,CAAC,MAAM;gBACjC,OAAO,MAAM,CAAC,YAAY;gBAE1B,MAAM,WAAW,MAAM,wHAAG,CAAC,GAAG,CAAC,CAAC,uBAAuB,EAAE,OAAO,QAAQ,IAAI;gBAC5E,QAAQ,SAAS,IAAI;gBACrB,SAAS;YACX,EAAE,OAAO,KAAU;gBACjB,SAAS,IAAI,OAAO,IAAI;gBACxB,QAAQ,KAAK,CAAC,wBAAwB;YACxC,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG;QAAC;QAAW;QAAS;KAAS;IAEjC,OAAO;QAAE;QAAM;QAAS;IAAM;AAChC","debugId":null}},
    {"offset": {"line": 1275, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/reports/ReportGenerator.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { api } from '@/lib/api'\nimport { FileText, Loader } from 'lucide-react'\n\nexport default function ReportGenerator() {\n  const [generating, setGenerating] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  const handleGenerateReport = async () => {\n    setGenerating(true)\n    setError(null)\n\n    try {\n      const response = await api.get('/api/v1/reports/monthly/', {\n        responseType: 'blob',\n      })\n\n      // Create download link\n      const url = window.URL.createObjectURL(new Blob([response.data]))\n      const link = document.createElement('a')\n      link.href = url\n      link.setAttribute('download', `portfolio-report-${new Date().toISOString().split('T')[0]}.pdf`)\n      document.body.appendChild(link)\n      link.click()\n      link.remove()\n      window.URL.revokeObjectURL(url)\n    } catch (err: any) {\n      setError(err.response?.data?.error || 'Failed to generate report')\n    } finally {\n      setGenerating(false)\n    }\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow p-6\">\n      <h3 className=\"text-lg font-semibold mb-4\">Monthly Portfolio Report</h3>\n      <p className=\"text-sm text-gray-600 mb-4\">\n        Generate a comprehensive PDF report of your portfolio performance, ESG impact, and risk analysis for the last 30 days.\n      </p>\n      \n      {error && (\n        <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm mb-4\">\n          {error}\n        </div>\n      )}\n\n      <button\n        onClick={handleGenerateReport}\n        disabled={generating}\n        className=\"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed\"\n      >\n        {generating ? (\n          <>\n            <Loader className=\"w-4 h-4 animate-spin\" />\n            <span>Generating...</span>\n          </>\n        ) : (\n          <>\n            <FileText className=\"w-4 h-4\" />\n            <span>Generate PDF Report</span>\n          </>\n        )}\n      </button>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,MAAM,uBAAuB;QAC3B,cAAc;QACd,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,wHAAG,CAAC,GAAG,CAAC,4BAA4B;gBACzD,cAAc;YAChB;YAEA,uBAAuB;YACvB,MAAM,MAAM,OAAO,GAAG,CAAC,eAAe,CAAC,IAAI,KAAK;gBAAC,SAAS,IAAI;aAAC;YAC/D,MAAM,OAAO,SAAS,aAAa,CAAC;YACpC,KAAK,IAAI,GAAG;YACZ,KAAK,YAAY,CAAC,YAAY,CAAC,iBAAiB,EAAE,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC;YAC9F,SAAS,IAAI,CAAC,WAAW,CAAC;YAC1B,KAAK,KAAK;YACV,KAAK,MAAM;YACX,OAAO,GAAG,CAAC,eAAe,CAAC;QAC7B,EAAE,OAAO,KAAU;YACjB,SAAS,IAAI,QAAQ,EAAE,MAAM,SAAS;QACxC,SAAU;YACR,cAAc;QAChB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAC3C,8OAAC;gBAAE,WAAU;0BAA6B;;;;;;YAIzC,uBACC,8OAAC;gBAAI,WAAU;0BACZ;;;;;;0BAIL,8OAAC;gBACC,SAAS;gBACT,UAAU;gBACV,WAAU;0BAET,2BACC;;sCACE,8OAAC,gNAAM;4BAAC,WAAU;;;;;;sCAClB,8OAAC;sCAAK;;;;;;;iDAGR;;sCACE,8OAAC,0NAAQ;4BAAC,WAAU;;;;;;sCACpB,8OAAC;sCAAK;;;;;;;;;;;;;;;;;;;AAMlB","debugId":null}},
    {"offset": {"line": 1398, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/dashboard/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { api } from '@/lib/api'\nimport AccountCard from '@/components/AccountCard'\nimport TransactionTable from '@/components/TransactionTable'\nimport ESGScoreBadge from '@/components/ESGScoreBadge'\nimport NotificationBell from '@/components/NotificationBell'\nimport PerformanceChart from '@/components/charts/PerformanceChart'\nimport ESGChart from '@/components/charts/ESGChart'\nimport RiskRewardCard from '@/components/dashboard/RiskRewardCard'\nimport { usePerformanceAnalytics, useESGAnalytics } from '@/hooks/useAnalytics'\nimport { subDays, format } from 'date-fns'\nimport { Account, Transaction, RiskMetrics } from '@/lib/types'\nimport ReportGenerator from '@/components/reports/ReportGenerator'\n\nexport default function DashboardPage() {\n  const [accounts, setAccounts] = useState<Account[]>([])\n  const [transactions, setTransactions] = useState<Transaction[]>([])\n  const [riskMetrics, setRiskMetrics] = useState<RiskMetrics | null>(null)\n  const [loading, setLoading] = useState(true)\n\n  // Get analytics data for last 30 days\n  const endDate = format(new Date(), 'yyyy-MM-dd')\n  const startDate = format(subDays(new Date(), 30), 'yyyy-MM-dd')\n  \n  const { data: performanceData, loading: performanceLoading } = usePerformanceAnalytics(startDate, endDate, 'daily')\n  const { data: esgData, loading: esgLoading } = useESGAnalytics(startDate, endDate, 'daily')\n\n  useEffect(() => {\n    console.log('DashboardPage mounted.');\n\n    async function fetchData() {\n      try {\n        const [accountsRes, transactionsRes, riskRes] = await Promise.all([\n          api.get('/api/v1/accounts/'),\n\n          api.get('/api/v1/transactions/?limit=5'),\n\n          // Risk endpoint may not exist yet.\n          api.get('/api/v1/analytics/risk/').catch(() => null),\n        ])\n\n        setAccounts(accountsRes.data)\n\n        setTransactions(transactionsRes.data.results || transactionsRes.data)\n\n        if (riskRes?.data) {\n          setRiskMetrics(riskRes.data)\n        }\n      } catch (error) {\n        console.error('Failed to fetch dashboard data:', error)\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchData()\n  }, [])\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen text-gray-500\">\n        Loading dashboard...\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <h1 className=\"text-2xl font-semibold\">Dashboard</h1>\n        <NotificationBell />\n      </div>\n\n      {/* Accounts Overview */}\n      <section>\n        <h2 className=\"text-xl font-medium mb-4\">Your Accounts</h2>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6\">\n          {accounts.map((acc) => (\n            <AccountCard\n              key={acc.id}\n              account={{ ...acc, balance: acc.balance.toString() }} />\n          ))}\n        </div>\n      </section>\n\n      {/* Performance Chart */}\n      <section>\n        <h2 className=\"text-xl font-medium mb-4\">Portfolio Performance</h2>\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          {performanceLoading ? (\n            <div className=\"flex items-center justify-center h-80\">\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600\"></div>\n            </div>\n          ) : performanceData ? (\n            <PerformanceChart data={performanceData.series} currency={performanceData.currency} />\n          ) : (\n            <p className=\"text-gray-500 text-center py-20\">No performance data available</p>\n          )}\n        </div>\n      </section>\n\n      {/* ESG Chart */}\n      <section>\n        <h2 className=\"text-xl font-medium mb-4\">ESG Impact Over Time</h2>\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          {esgLoading ? (\n            <div className=\"flex items-center justify-center h-80\">\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600\"></div>\n            </div>\n          ) : esgData ? (\n            <>\n              <ESGChart data={esgData.series} />\n              <div className=\"mt-4 flex gap-4 justify-center\">\n                <ESGScoreBadge \n                  label=\"Total CO₂ Impact\" \n                  value={`${esgData.total_co2_kg.toFixed(2)} kg`} \n                  variant=\"warning\" \n                />\n                <ESGScoreBadge \n                  label=\"Average ESG Rating\" \n                  value={`${esgData.avg_rating.toFixed(2)} / 10`} \n                  variant=\"success\" \n                />\n              </div>\n            </>\n          ) : (\n            <p className=\"text-gray-500 text-center py-20\">No ESG data available</p>\n          )}\n        </div>\n      </section>\n\n      {/* Risk & Reward */}\n      {riskMetrics && (\n        <section>\n          <h2 className=\"text-xl font-medium mb-4\">Risk Analysis</h2>\n          <RiskRewardCard metrics={riskMetrics} />\n        </section>\n      )}\n\n      {/* Report Generator */}\n      <section>\n        <h2 className=\"text-xl font-medium mb-4\">Reports</h2>\n        <ReportGenerator />\n      </section>\n\n      {/* Recent Transactions */}\n      <section>\n        <h2 className=\"text-xl font-medium mb-4\">Recent Transactions</h2>\n        <TransactionTable\n          transactions={\n            transactions.map(t => ({\n              ...t,\n              amount: t.amount.toString(),\n              category: t.category ?? undefined\n            }))}\n        />\n      </section>\n    </div>\n  )\n}"],"names":[],"mappings":"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","debugId":null}}]
}